<template>
	<div id="view-element">
		<div class="container">
        <!-- Page Content goes here -->
        <h4>{{adv.title}}</h4>
        <div class="row">
	      <div class="col s12 m8">
	        <img class="responsive-img" v-bind:src="adv.image"/>
	        <h5>Resumen</h5>
	        <div>{{adv.description}}</div>
	      </div>
          <div class="col s12 m4">
	        	<div>Descuento {{adv.discount}}</div>
	        	<div class="center-align">
	        		<a href="#" class="btn-flat disabled tachado">{{adv.sOriginalPrice}}</a>
	        	</div>
	        	<div class="light-green-text price center-align">{{adv.sPrice}}</div>
	        	 <div class="center-align">
			       <a @click="buy()" class="waves-effect waves-light btn">Comprar</a>
			  	 </div>
	        	<div id="info-adv" class="viewport">
			      <md-toolbar :md-elevation="1">
			        <span class="md-title">Informaci√≥n</span>
			      </md-toolbar>

			      <md-list class="md-double-line">
			        <md-subheader>Phone</md-subheader>

			        <md-list-item>
			          <md-icon class="md-primary">phone</md-icon>

			          <div class="md-list-item-text">
			            <span>(650) 555-1234</span>
			            <span>Mobile</span>
			          </div>

			          <md-button class="md-icon-button md-list-action">
			            <md-icon>sms</md-icon>
			          </md-button>
			        </md-list-item>

			        <md-list-item class="md-inset">
			          <div class="md-list-item-text">
			            <span>(650) 555-1234</span>
			            <span>Mobile</span>
			          </div>

			          <md-button class="md-icon-button md-list-action">
			            <md-icon>sms</md-icon>
			          </md-button>
			        </md-list-item>

			        <md-divider></md-divider>
			        <md-subheader>Email</md-subheader>

			        <md-list-item>
			          <md-icon class="md-primary">email</md-icon>

			          <div class="md-list-item-text">
			            <span>aliconnors@example.com</span>
			            <span>Personal</span>
			          </div>
			        </md-list-item>

			        <md-list-item class="md-inset">
			          <div class="md-list-item-text">
			            <span>ali_connors@example.com</span>
			            <span>Work</span>
			          </div>
			        </md-list-item>
			      </md-list>
			    </div>
	      </div>
	     
    	</div>
      </div>
	</div>
</template>
<script>
	import axios from 'axios'
	export default{
		name:'view-element',
	data(){
			return {
				adv : ''
			}
	},
	beforeRouteEnter(to,from,next){
		axios.get(global.ENVIRONMENT+'/ixh/advs/'+to.params.adv_id)
			.then(response=>{
	  			next(vm=>{
					vm.adv = response.data
				})	
  			})
	},
	watch:{
			'$route':'fetchData'
	},
	methods:{
		fetchData(){

		},
		buy(){
			$('#info-adv').show()
		}
	},
	mounted(){
		$('#info-adv').hide()
	}
}
</script>
<style>
  
</style>